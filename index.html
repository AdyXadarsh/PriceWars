<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Care Point Billing Assistant</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .test-card { border-left: 4px solid transparent; transition: 0.2s; }
        .test-card:active { scale: 0.98; }
        .cat-pathology { border-left-color: #ef4444; }
        .cat-xray { border-left-color: #3b82f6; }
        .cat-ultrasound { border-left-color: #10b981; }
        .cat-special { border-left-color: #f59e0b; }
        .sticky-summary { position: sticky; bottom: 0; background: white; border-top: 2px solid #e2e8f0; z-index: 100; }
    </style>
</head>
<body class="bg-gray-100 min-h-screen pb-40">

    <header class="bg-slate-900 text-white p-4 shadow-md sticky top-0 z-50">
        <div class="max-w-4xl mx-auto flex justify-between items-center">
            <div>
                <h1 class="text-lg font-black tracking-tighter uppercase">Care Point Diagnostics</h1>
                <p class="text-[10px] text-blue-400 font-bold uppercase tracking-widest">By Ady</p>
            </div>
            <button onclick="clearAll()" class="text-xs bg-slate-800 px-3 py-1 rounded-full text-slate-400 hover:text-white">Reset</button>
        </div>
    </header>

    <main class="max-w-4xl mx-auto p-4">
        <div class="mb-6 relative">
            <input type="text" id="mainSearch" placeholder="Search by Test Name or Category..." 
                class="w-full p-4 pl-12 rounded-2xl border-none shadow-lg focus:ring-4 focus:ring-blue-500/20 text-lg">
            <i class="fas fa-search absolute left-4 top-5 text-slate-300"></i>
        </div>

        <div class="flex gap-2 overflow-x-auto pb-4 mb-2 no-scrollbar">
            <button class="filter-btn bg-blue-600 text-white px-5 py-2 rounded-xl font-bold whitespace-nowrap" data-filter="all">All</button>
            <button class="filter-btn bg-white text-slate-600 px-5 py-2 rounded-xl border font-bold whitespace-nowrap" data-filter="Pathology">Pathology</button>
            <button class="filter-btn bg-white text-slate-600 px-5 py-2 rounded-xl border font-bold whitespace-nowrap" data-filter="Ultrasound">Ultrasound</button>
            <button class="filter-btn bg-white text-slate-600 px-5 py-2 rounded-xl border font-bold whitespace-nowrap" data-filter="X-Ray">X-Ray</button>
        </div>

        <div id="grid" class="grid grid-cols-1 md:grid-cols-2 gap-3">
            </div>
    </main>

    <div class="sticky-summary p-4 shadow-[0_-10px_30px_rgba(0,0,0,0.1)]">
        <div class="max-w-4xl mx-auto">
            <div id="cart" class="flex flex-wrap gap-2 mb-4 max-h-24 overflow-y-auto">
                <p class="text-slate-400 text-sm italic">Click tests above to build a bill...</p>
            </div>
            <div class="flex justify-between items-end">
                <div>
                    <span class="text-[10px] font-bold text-slate-400 uppercase tracking-widest block">Billing Total</span>
                    <span class="text-4xl font-black text-slate-900">â‚¹<span id="total">0</span></span>
                </div>
                <button onclick="generateMessage()" class="bg-green-600 text-white px-8 py-4 rounded-2xl font-black shadow-xl shadow-green-200 flex items-center gap-3 hover:bg-green-700">
                    <i class="fab fa-whatsapp text-2xl"></i> SEND BILL
                </button>
            </div>
        </div>
    </div>

    <script>
        // Full processed list of all 111 tests
        const data = [
            {"c": "X-Ray", "n": "Chest PA", "p": 500, "r": "Checks lungs and heart; used for cough, chest pain, pneumonia, or TB screening."},
            {"c": "X-Ray", "n": "C Spine AP/LAT", "p": 900, "r": "Images cervical vertebrae (neck); used for neck pain, trauma, or spondylosis."},
            {"c": "X-Ray", "n": "L Spine AP/LAT", "p": 900, "r": "Images lumbar vertebrae (lower back); used for back pain, slip disc, or sciatica."},
            {"c": "X-Ray", "n": "Dorsal (Thoracic) AP/LAT", "p": 900, "r": "Images mid-back; used for posture issues, pain, or trauma."},
            {"c": "X-Ray", "n": "Hand AP/LAT", "p": 900, "r": "Orthopedic imaging for bones/joints."},
            {"c": "X-Ray", "n": "Elbow AP/LAT", "p": 900, "r": "Orthopedic imaging for bones/joints."},
            {"c": "X-Ray", "n": "Wrist AP/LAT", "p": 900, "r": "Orthopedic imaging for bones/joints."},
            {"c": "X-Ray", "n": "Foot AP/LAT", "p": 900, "r": "Orthopedic imaging for bones/joints."},
            {"c": "X-Ray", "n": "Ankle AP/LAT", "p": 900, "r": "Orthopedic imaging for bones/joints."},
            {"c": "X-Ray", "n": "Knee AP/LAT", "p": 900, "r": "Orthopedic imaging for bones/joints."},
            {"c": "X-Ray", "n": "Leg AP/LAT", "p": 900, "r": "Orthopedic imaging for bones/joints."},
            {"c": "X-Ray", "n": "Skull AP/LAT", "p": 900, "r": "Head trauma or bony abnormalities."},
            {"c": "X-Ray", "n": "PNS", "p": 900, "r": "Sinuses; chronic sinusitis or headache."},
            {"c": "X-Ray", "n": "IVP", "p": 3000, "r": "Kidney stones/urinary tract blockages."},
            {"c": "Special Studies", "n": "FNAC", "p": 4500, "r": "Biopsy for lumps (breast/thyroid)."},
            {"c": "ECG", "n": "Electrocardiography", "p": 500, "r": "Heart rhythm; chest pain or routine check."},
            {"c": "Special Studies", "n": "Barium Swallow", "p": 2000, "r": "Esophagus X-ray; difficulty swallowing."},
            {"c": "Special Studies", "n": "Barium Meal", "p": 3500, "r": "Stomach/intestine; ulcers or pain."},
            {"c": "Special Studies", "n": "HSG", "p": 4500, "r": "Infertility; checks if fallopian tubes are open."},
            {"c": "Pathology", "n": "APTT", "p": 600, "r": "Clotting function."},
            {"c": "Pathology", "n": "AMH", "p": 2200, "r": "Ovarian reserve (fertility potential)."},
            {"c": "Pathology", "n": "Ana Profile", "p": 5500, "r": "Comprehensive Anemia workup."},
            {"c": "Pathology", "n": "Amylase", "p": 500, "r": "Pancreatitis diagnosis."},
            {"c": "Pathology", "n": "ANC Profile", "p": 2500, "r": "Constituents: CBC, Sugar(F), HBSAG, TSH, Urine R, HCV, HIV, Blood group, VDRL."},
            {"c": "Pathology", "n": "Anti CCP", "p": 1400, "r": "Rheumatoid Arthritis screening."},
            {"c": "Pathology", "n": "Alk. Phosphate", "p": 200, "r": "Liver/Bone health marker."},
            {"c": "Pathology", "n": "Blood Group", "p": 250, "r": "Determines type (A/B/O, Rh)."},
            {"c": "Pathology", "n": "BUN", "p": 200, "r": "Blood Urea Nitrogen; kidney health."},
            {"c": "Pathology", "n": "Bilirubin", "p": 200, "r": "Jaundice/Liver function."},
            {"c": "Pathology", "n": "B-HCG", "p": 600, "r": "Pregnancy hormone confirmation."},
            {"c": "Pathology", "n": "BT CT", "p": 300, "r": "Bleeding and Clotting Time."},
            {"c": "Pathology", "n": "CBC", "p": 250, "r": "Anemia, infection, platelet count."},
            {"c": "Pathology", "n": "Creatinine", "p": 200, "r": "Kidney filtration capability."},
            {"c": "Pathology", "n": "Calcium", "p": 200, "r": "Bone health/deficiency."},
            {"c": "Pathology", "n": "Cholesterol", "p": 200, "r": "Heart disease risk assessment."},
            {"c": "Pathology", "n": "CRP", "p": 500, "r": "Inflammation marker."},
            {"c": "Pathology", "n": "CPK Total", "p": 400, "r": "Muscle damage marker."},
            {"c": "Pathology", "n": "CPK MB", "p": 800, "r": "Cardiac muscle marker."},
            {"c": "Pathology", "n": "Chikungunya", "p": 1500, "r": "Chikungunya virus test."},
            {"c": "Pathology", "n": "Dengue NS1", "p": 600, "r": "Early stage Dengue (Day 1-3)."},
            {"c": "Pathology", "n": "Dengue IgG/IgM", "p": 1200, "r": "Later stage Dengue check."},
            {"c": "Pathology", "n": "Dual Marker", "p": 2800, "r": "Down Syndrome screening (Fetal)."},
            {"c": "Pathology", "n": "ESR", "p": 100, "r": "Infection/TB marker."},
            {"c": "Pathology", "n": "Electrolyte", "p": 600, "r": "Na/K levels; hydration/heart."},
            {"c": "Pathology", "n": "Ferritin", "p": 800, "r": "Iron storage levels."},
            {"c": "Pathology", "n": "Free TFT", "p": 1000, "r": "Free T3, Free T4, TSH."},
            {"c": "Pathology", "n": "Free PSA", "p": 1000, "r": "Prostate health."},
            {"c": "Pathology", "n": "G6PD", "p": 600, "r": "Enzyme deficiency test."},
            {"c": "Pathology", "n": "FSH", "p": 500, "r": "Reproductive health/periods."},
            {"c": "Pathology", "n": "HbA1c", "p": 500, "r": "3-month average blood sugar."},
            {"c": "Pathology", "n": "HIV", "p": 400, "r": "HIV 1 & 2 screening."},
            {"c": "Pathology", "n": "HCV", "p": 1000, "r": "Hepatitis C screening."},
            {"c": "Pathology", "n": "HBsAg", "p": 800, "r": "Hepatitis B screening."},
            {"c": "Pathology", "n": "Homocysteine", "p": 1200, "r": "Heart/Artery health."},
            {"c": "Pathology", "n": "Iron Studies", "p": 700, "r": "Total iron and binding capacity."},
            {"c": "Pathology", "n": "Insulin (F)", "p": 700, "r": "Fasting insulin level."},
            {"c": "Pathology", "n": "Insulin (PP)", "p": 700, "r": "Post-meal insulin level."},
            {"c": "Pathology", "n": "LFT", "p": 800, "r": "Liver enzymes and bilirubin."},
            {"c": "Pathology", "n": "Lipase", "p": 500, "r": "Pancreas health."},
            {"c": "Pathology", "n": "Lipid Profile", "p": 800, "r": "Full cholesterol panel."},
            {"c": "Pathology", "n": "LH", "p": 500, "r": "Reproductive hormone."},
            {"c": "Pathology", "n": "Malaria (MP)", "p": 300, "r": "Malaria microscopy."},
            {"c": "Pathology", "n": "Malaria Antigen", "p": 700, "r": "Rapid malaria kit test."},
            {"c": "Pathology", "n": "Mantoux Test", "p": 500, "r": "TB skin test."},
            {"c": "Pathology", "n": "Magnesium", "p": 500, "r": "Mineral level test."},
            {"c": "Pathology", "n": "OGTT", "p": 400, "r": "Glucose Tolerance Test."},
            {"c": "Pathology", "n": "PT-INR", "p": 500, "r": "Blood thinning monitoring."},
            {"c": "Pathology", "n": "PSFOR MP", "p": 300, "r": "Peripheral Smear for Malaria."},
            {"c": "Pathology", "n": "Prolactin", "p": 500, "r": "Reproductive health."},
            {"c": "Pathology", "n": "Platelet Count", "p": 300, "r": "Manual check for infection."},
            {"c": "Pathology", "n": "Quadruple Marker", "p": 3000, "r": "Maternal screening panel."},
            {"c": "Pathology", "n": "RFT", "p": 1100, "r": "Urea, Creatinine, Uric Acid."},
            {"c": "Pathology", "n": "RA Factor", "p": 500, "r": "Arthritis screening."},
            {"c": "Pathology", "n": "RT-PCR", "p": 1000, "r": "Molecular infection test."},
            {"c": "Pathology", "n": "Sugar (F)", "p": 100, "r": "Fasting Blood Glucose."},
            {"c": "Pathology", "n": "Sugar (PP)", "p": 100, "r": "Post-meal Blood Glucose."},
            {"c": "Pathology", "n": "Sugar (R)", "p": 100, "r": "Random Blood Glucose."},
            {"c": "Pathology", "n": "SGOT", "p": 200, "r": "Liver/Heart enzyme."},
            {"c": "Pathology", "n": "SGPT", "p": 200, "r": "Liver health enzyme."},
            {"c": "Pathology", "n": "Stool R/M", "p": 250, "r": "Parasites/Infection."},
            {"c": "Pathology", "n": "Stool C/S", "p": 1600, "r": "Stool Culture & Sensitivity."},
            {"c": "Pathology", "n": "Semen Analysis", "p": 500, "r": "Count and motility."},
            {"c": "Pathology", "n": "T3 T4 TSH", "p": 600, "r": "Thyroid profile."},
            {"c": "Pathology", "n": "Troponin I", "p": 1200, "r": "Cardiac marker for Heart Attack."},
            {"c": "Pathology", "n": "Troponin T", "p": 1800, "r": "Cardiac marker for Heart Attack."},
            {"c": "Pathology", "n": "Total Protein", "p": 200, "r": "Protein levels (Alb/Glob)."},
            {"c": "Pathology", "n": "Urine R/M", "p": 300, "r": "UTI, sugar, or kidney issues."},
            {"c": "Pathology", "n": "Urine C/S", "p": 1800, "r": "Urine Culture & Sensitivity."},
            {"c": "Pathology", "n": "Urea", "p": 200, "r": "Kidney health."},
            {"c": "Pathology", "n": "Uric Acid", "p": 200, "r": "Gout or kidney stones."},
            {"c": "Pathology", "n": "VDRL", "p": 300, "r": "Syphilis screening."},
            {"c": "Pathology", "n": "Vit D3", "p": 1200, "r": "Bone health."},
            {"c": "Pathology", "n": "Vit B12", "p": 1000, "r": "Nerve health."},
            {"c": "Pathology", "n": "Widal", "p": 300, "r": "Typhoid fever test."},
            {"c": "Ultrasound", "n": "Early OBS Scan", "p": 1800, "r": "Heartbeat and viability."},
            {"c": "Ultrasound", "n": "Upper Abdomen / KUB", "p": 1800, "r": "Stones or organ pain."},
            {"c": "Ultrasound", "n": "Abdomen + Pelvis", "p": 1800, "r": "Comprehensive belly scan."},
            {"c": "Ultrasound", "n": "NT Scan (3-4 Month)", "p": 2800, "r": "Chromosomal screening."},
            {"c": "Ultrasound", "n": "Anomaly Scan", "p": 3500, "r": "Baby physical development."},
            {"c": "Ultrasound", "n": "Colour Doppler (OBS)", "p": 3500, "r": "High-risk pregnancy flow."},
            {"c": "Ultrasound", "n": "Doppler (V/R/A)", "p": 3500, "r": "Blood vessel flow."},
            {"c": "Ultrasound", "n": "Small Parts", "p": 2500, "r": "Lumps (Breast/Thyroid/Scrotum)."},
            {"c": "Ultrasound", "n": "Follicular Study", "p": 1500, "r": "Egg release tracking."},
            {"c": "Ultrasound", "n": "2D Echo", "p": 2500, "r": "Heart pumping/defects."},
            {"c": "Ultrasound", "n": "Fetal 2D Echo", "p": 4000, "r": "Baby heart defects."},
            {"c": "Ultrasound", "n": "USG Scrotum", "p": 2500, "r": "Testicular imaging."},
            {"c": "Ultrasound", "n": "B Scan", "p": 3000, "r": "Eye imaging."}
        ];

        let selected = [];

        function init() {
            render('all');
        }

        function render(cat, search = '') {
            const grid = document.getElementById('grid');
            grid.innerHTML = '';
            
            const filtered = data.filter(t => {
                const matchesCat = cat === 'all' || t.c.includes(cat);
                const matchesSearch = t.n.toLowerCase().includes(search.toLowerCase()) || t.r.toLowerCase().includes(search.toLowerCase());
                return matchesCat && matchesSearch;
            });

            filtered.forEach(test => {
                const card = document.createElement('div');
                card.className = `test-card bg-white p-4 rounded-2xl shadow-sm cursor-pointer flex justify-between items-center cat-${test.c.toLowerCase().replace(' ', '')}`;
                card.onclick = () => add(test);
                card.innerHTML = `
                    <div class="flex-1 pr-3">
                        <span class="text-[9px] font-black uppercase text-slate-400 tracking-wider">${test.c}</span>
                        <h3 class="font-bold text-slate-800 leading-tight">${test.n}</h3>
                        <p class="text-[10px] text-slate-400 mt-1 line-clamp-1">${test.r}</p>
                    </div>
                    <div class="text-right">
                        <p class="font-black text-slate-900 text-lg">â‚¹${test.p}</p>
                        <span class="text-[10px] font-bold text-blue-500 uppercase">+ Add</span>
                    </div>
                `;
                grid.appendChild(card);
            });
        }

        function add(test) {
            selected.push(test);
            updateCart();
        }

        function remove(idx) {
            selected.splice(idx, 1);
            updateCart();
        }

        function clearAll() {
            if(confirm("Clear selection?")) { selected = []; updateCart(); }
        }

        function updateCart() {
            const container = document.getElementById('cart');
            const totalEl = document.getElementById('total');
            
            if(selected.length === 0) {
                container.innerHTML = '<p class="text-slate-400 text-sm italic">Click tests above to build a bill...</p>';
                totalEl.innerText = '0';
                return;
            }

            container.innerHTML = selected.map((t, i) => `
                <div class="bg-slate-900 text-white px-3 py-1.5 rounded-full text-xs font-bold flex items-center gap-2">
                    ${t.n} (â‚¹${t.p})
                    <i class="fas fa-times-circle text-slate-500 cursor-pointer" onclick="remove(${i})"></i>
                </div>
            `).join('');

            const sum = selected.reduce((a, b) => a + b.p, 0);
            totalEl.innerText = sum.toLocaleString('en-IN');
        }

        function generateMessage() {
            if(selected.length === 0) return alert('Select tests first!');
            const list = selected.map(t => `â€¢ ${t.n}: â‚¹${t.p}`).join('\n');
            const sum = selected.reduce((a, b) => a + b.p, 0);
            const msg = `*CARE POINT DIAGNOSTICS*\n_Quality Care, Affordable Prices_\n\n*Billing Summary:*\n${list}\n\n*TOTAL: â‚¹${sum}*\n\nðŸ“ Dombivli Branch\n_Please come fasting if required for blood tests._`;
            window.open(`https://wa.me/?text=${encodeURIComponent(msg)}`, '_blank');
        }

        document.getElementById('mainSearch').oninput = (e) => {
            const cat = document.querySelector('.filter-btn.bg-blue-600').dataset.filter;
            render(cat, e.target.value);
        };

        document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.onclick = () => {
                document.querySelectorAll('.filter-btn').forEach(b => b.className = "filter-btn bg-white text-slate-600 px-5 py-2 rounded-xl border font-bold whitespace-nowrap");
                btn.className = "filter-btn bg-blue-600 text-white px-5 py-2 rounded-xl font-bold whitespace-nowrap";
                render(btn.dataset.filter, document.getElementById('mainSearch').value);
            };
        });

        init();
    </script>
</body>
</html>
